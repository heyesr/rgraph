<!DOCTYPE html >
<html>
<head>
    <link rel="stylesheet" href="demos.css" type="text/css" media="screen" />
    <script src="../libraries/RGraph.common.core.js" ></script>
    <script src="../libraries/RGraph.common.dynamic.js" ></script>
    <script src="../libraries/RGraph.common.tooltips.js" ></script>
    <script src="../libraries/RGraph.drawing.line.js" ></script>
    <script src="demos.js" ></script>
    <meta name="robots" content="noindex, nofollow" />
</head>
<body>    
    <h1>An example of the drawing API line object used as a progress bar</h1>
    
    <p>
        Though why not just use <a href="/canvas/hprogress.html">the Horizontal Progress Bar</a>?!
    </p>

    <div id="rgraph-demo-html">
        <canvas id="cvs" width="700" height="70" style="border: 1px solid #ddd">[No canvas support]</canvas>
    </div>

    <script>
        // The min, max and value
        min   = 0;
        max   = 100;
        value = 47;
        
        maxWidth = document.getElementById('cvs').width - 35 - 35;
        barWidth = ((value - min) / (max - min)) * maxWidth;

        // This drawing API Line object is the background
        new RGraph.Drawing.Line({
            id: 'cvs',
            coords: [[70,70],[665,70]],
            options: {
                linewidth: 50,
                colorsStroke: 'pink'
            }
        }).draw();
        
        // Calculate the width

        // This drawing API Line object is the indicator bar
        new RGraph.Drawing.Line({
            id: 'cvs',
            coords: [[70,70],[barWidth + 35,70]],
            options: {
                linewidth: 50,
                colorsStroke: '#a00',
                tooltips: [`<span style="font-size: 20pt">This is the level of the water-tower: ${value}%</span>`],
                tooltipsEffect: 'fade',
                tooltipsOffsetx: barWidth / 2
            }
        }).draw();
    </script>
    
    <script>showSource()</script>

</body>
</html>