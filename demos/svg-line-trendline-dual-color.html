<!DOCTYPE html >
<html>
<head>
    <link rel="stylesheet" href="demos.css" type="text/css" media="screen" />
    <script src="../libraries/RGraph.svg.common.core.js" ></script>
    <script src="../libraries/RGraph.svg.line.js" ></script>
    <script src="demos.js" ></script>
    <meta name="robots" content="noindex, nofollow" />
</head>
<body>
    <h1>A dual-color SVG Line chart with a trend line</h1>
    
    <p>
        <a href="svg-scatter-trendline-dual-color.html">
            A Scatter chart version of a dual-color trendline.
        </a>
    </p>
    
    <div id="rgraph-demo-html">
        <div style="width: 700px; height: 300px" id="chart-container"></div>
    </div>

    <script>
        DATA   = [1,3,4,2,5,6,5,6,8,4];
        CONFIG = {
            trendline: true,
            trendlineDashed: true,
            trendlineColors: ['#666'],
            trendlineMargin: 15,
            marginInner: 25,
            spline: true,
            xaxisLabels: ['A','B','C','D','E','F','G','H','I','J','K','L','M'],
            textSize: 16,
            linewidth: 4,
            shadow: false,
            tickmarksStyle: 'circle',
            xaxis: false,
            yaxis: false,
            backgroundGridBorder: false,
            backgroundGridVlines: false
        };

        line1 = new RGraph.SVG.Line({
            id: 'chart-container',
            data: [...DATA],
            options: {
                ...CONFIG,
                colors: ['black']
            }
        }).trace();

        // The coordinates of the first (and only) trendline
        var coords = line1.coordsTrendline[0];

        //
        // Calculate the coordinates for the top part of the chart
        // (above the trendline)
        //
        coords_top = [
            [0,coords[0][1]],
            ...coords,
            [line1.width,coords[1][1]],
            [line1.width, 0],
            [0,0]
        ];

        //
        // Calculate the coordinates for the bottom part of the chart
        // (below the trendline)
        //
        coords_bottom = [
            [0,coords[0][1]],
            ...coords,
            [line1.width,coords[1][1]],
            [line1.width, line1.height],
            [0,line1.height]
        ];


        //
        // Now that we have the coordinates clipping can be
        // installed on the chart that's already been drawn
        // (the top part of the chart).
        //
        line1.set('clip', coords_top);








        line2 = new RGraph.SVG.Line({
            id: 'chart-container',
            data: [...DATA],
            options: {
                ...CONFIG,
                colors: ['red'],
                clip: coords_bottom
            }
        }).trace();
        
        

        //
        // Now draw both of the charts using the RGraph.redraw
        // API function
        //
        RGraph.SVG.redraw();

    </script>

    <script>showSource()</script>

</body>
</html>