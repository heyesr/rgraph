<!DOCTYPE html >
<html>
<head>
    <link rel="stylesheet" href="demos.css" type="text/css" media="screen" />
    <script src="../libraries/RGraph.common.core.js" ></script>
    <script src="../libraries/RGraph.common.key.js" ></script>
    <script src="../libraries/RGraph.bar.js" ></script>
    <script src="demos.js" ></script>
    <meta name="robots" content="noindex, nofollow" />
</head>
<body>
    <h1>Google's power usage</h1>

    <div id="rgraph-demo-html">
        <div id="canvas-container">
            <canvas id="cvs" width="600" height="350">[No canvas support]</canvas>
        </div>
    </div>

    <script id="rgraph-demo-source-code">
        // Create the bar chart. The data is such that we have
        // "end point values" for each segment, and not the
        // magnitude value of the segment itself. So the
        // value of the segment is generated by subtracting
        // the first figure from the second.
        new RGraph.Bar({
            id: 'cvs',
            data: [
                [3.5 - 1.19,1.19],
                [4 - 1.5, 1.5],
                [4.5 - 1.75, 1.75],
                [5.1 - 2.25, 2.25],
                [6 - 3.5, 3.5],
                [7.75 - 7.75, 7.75],
                [10 - 10, 10]
            ],
            options: {
                marginRight: 90,
                colors: ['#ddd', 'green'],
                
                // Add the green labelsAbove. One above label is possible
                // for each segment of the chart - hence the blank values.
                labelsAbove: true,
                labelsAboveColor: 'green',
                labelsAboveSpecific: ['34%','', '35%','', '37%','', '48%','', '61%','', '100%','', '100%',''],
                
                // The Y-axis is positioned on the right-hand-side and uses
                // specific labels. This is because the top-most label has
                // 'terawatts' appended to the number.
                yaxisPosition: 'right',
                yaxisLabelsSpecific: ['10 terawatts','9','8','7','6','5','4','3','2','1','0'],
                yaxis: false,

                xaxisLabels: ['2012','2013','2014','2015','2016','2017','2018'],
                xaxis: false,
                xaxisTickmarksCount: 0,
                grouping: 'stacked',                
                
                // No background grid
                backgroundGrid: false,                
                
                // Define the key and position it on the left in the middle(ish).
                key: ['Total energy consumption','Renewable energy'],
                keyPositionGraphBoxed: false,
                keyColorShape: 'circle',

                // Position the (multiline) title on the left-hand-side
                title: 'Renewable energy\npurchasing compared with\ntotal electricity use',
                titleHalign: 'left',
                titleX: 50,
                titleY: '+25',
                titleBold: true,
                responsive: [
                    {maxWidth: null,width:650,height:350,options:{textSize: 10,marginInner: 15,titleSize: 16,keyPositionY: 100,keyPositionGraphBoxed:false,keyBackground:'rgba(0,0,0,0)',keyPositionX: 50}},
                    {maxWidth: 800,width:350,height:250,options:{textSize: 8,marginInner: 5,titleSize: 10,keyPositionY: 170,keyPositionGraphBoxed: true,keyBackground:'rgba(255,255,255,0.75)',keyPositionX: 120}}
                ]
            }
        }).draw().exec(function (obj)
        {
            // This draws the custom X-axis. Instead of using the draw
            // event an exec() function is used because dynamic features
            // aren't being used and the chart isn't being redrawn so it
            // only needs to be done once.
            obj.path(
                'b m % % l % % s gray',
                obj.get('marginLeft'), obj.canvas.height - obj.get('marginBottom'),
                obj.canvas.width - obj.get('marginRight'), obj.canvas.height - obj.get('marginBottom')
            );
        // Add some responsive capabilities to the chart. It reduces the size of the text on smaller
        // screens and moves the key around
        });
    </script>

    <script>showSource()</script>

</body>
</html>